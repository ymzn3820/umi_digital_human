(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["childCont-figure-compose_list"],{"05f6":function(t,e,i){"use strict";var n=i("6559"),o=i.n(n);o.a},"0c76":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"audio-card"},[i("v-uni-view",{staticClass:"title"},[t._v(t._s(t.title))]),i("v-uni-view",{staticClass:"audio"},[t.isPlay?t._e():i("v-uni-image",{staticClass:"play-icon",attrs:{mode:"scaleToFill",src:t.startImg},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.audioPlay.apply(void 0,arguments)}}}),t.isPlay?i("v-uni-image",{staticClass:"play-icon",attrs:{mode:"scaleToFill",src:t.endImg},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.audioPause.apply(void 0,arguments)}}}):t._e(),i("v-uni-view",{staticClass:"audio-main"},[i("v-uni-slider",{staticClass:"progress",attrs:{max:"100","block-size":"12","block-color":t.sliderColor,activeColor:t.activeColor,backgroundColor:t.backgroundColor,value:t.progress},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.handleChange.apply(void 0,arguments)},changing:function(e){arguments[0]=e=t.$handleEvent(e),t.handleProgress.apply(void 0,arguments)}}}),i("v-uni-view",{staticClass:"time"},[i("v-uni-view",[t._v(t._s(t.dateFormart(t.currentTime)))]),i("v-uni-view",[t._v(t._s(t.dateFormart(t.duration)))])],1)],1)],1)],1)},o=[]},"106c":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){}));var n=function(){var t=this.$createElement,e=this._self._c||t;return e("v-uni-view")},o=[]},"277b":function(t,e,i){"use strict";i.r(e);var n=i("f0d3"),o=i("3d6c");for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);i("a0fb");var s=i("f0c5"),r=Object(s["a"])(o["default"],n["b"],n["c"],!1,null,"65d664d1",null,!1,n["a"],void 0);e["default"]=r.exports},"3d6c":function(t,e,i){"use strict";i.r(e);var n=i("6a51"),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=o.a},"545e":function(t,e,i){"use strict";i.r(e);var n=i("a558"),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=o.a},"57c6":function(t,e,i){"use strict";i.r(e);var n=i("d3fe"),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=o.a},6559:function(t,e,i){var n=i("9eee");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f065").default;o("19eaac06",n,!0,{sourceMap:!1,shadowMode:!1})},"6a51":function(t,e,i){"use strict";(function(t){i("7a82");var n=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("e25e"),i("d3b7"),i("159b"),i("14d9");var o=n(i("ce80")),a=n(i("dee7")),s=i("755d"),r={data:function(){return{loadingType:0,page_no:1,page_count:10,videoList:[],pageTotal:0,voice_code:"",fileUrl:"",fileType:""}},components:{Audio:o.default,Ssdownload:a.default},onLoad:function(t){t.code&&(this.voice_code=t.code)},onShow:function(){this.getVoiceList()},methods:{getVoiceList:function(){var t=this,e={voice_code:this.voice_code,page_size:this.page_count,page:this.page_no};(0,s.getVoiceHistory)(e).then((function(e){if(2e4==e.code){t.videoList=e.data.data;var i=e.data.total;i%t.page_count==0?t.pageTotal=i/t.page_count:t.pageTotal=parseInt(i/t.page_count)+1,1==t.pageTotal&&(t.loadingType=1)}else t.$api.msg(e.msg)})).catch((function(e){t.$api.msg("获取失败")}))},onReachBottom:function(){var t=this;if(1!=this.loadingType){this.page_no++;var e={voice_code:this.voice_code,page_size:this.page_count,page:this.page_no};(0,s.getVoiceHistory)(e).then((function(e){if(2e4==e.code){var i=e.data.total;if(0==i)return;var n=e.data.data,o=t.videoList;n.forEach((function(t){o.push(t)})),i%t.page_count==0?t.pageTotal=i/t.page_count:t.pageTotal=parseInt(i/t.page_count)+1,console.log(t.pageTotal,158),t.pageTotal<=t.page_no&&(t.loadingType=1)}else t.$api.msg(e.msg)})).catch((function(e){t.$api.msg("获取失败")}))}},getImgUrl:function(e){return t.baseImg+"/"+e},downVoice:function(e){console.log(e,1254),this.fileUrl=t.baseImg+"/"+e,this.fileType="2"}}};e.default=r}).call(this,i("c8ba"))},"9eee":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.audio-card[data-v-903a256a]{display:flex;flex-direction:column;padding:%?20?% %?24?%}.audio-card .title[data-v-903a256a]{color:#000;font-size:%?30?%;font-weight:500;width:80%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.audio-card .audio[data-v-903a256a]{margin-top:%?15?%;display:flex}.audio-card .audio .play-icon[data-v-903a256a]{width:%?60?%;height:%?60?%;margin-right:%?15?%}.audio-card .audio .audio-main[data-v-903a256a]{height:%?48?%;flex:1;margin-left:%?15?%}.audio-card .audio .progress[data-v-903a256a]{margin:0}.audio-card .audio .time[data-v-903a256a]{width:100%;height:%?50?%;font-size:%?24?%;font-weight:400;color:#666;margin-top:%?-15?%;display:flex;align-items:center;justify-content:space-between}',""]),t.exports=e},a0fb:function(t,e,i){"use strict";var n=i("e63a"),o=i.n(n);o.a},a558:function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("e25e"),i("acd8");var n={name:"ss-download",props:{fileUrl:{type:String,default:""},fileType:{type:String,default:""}},data:function(){return{}},methods:{toDownload:function(t){this.downloadH5(t.src)},downloadH5:function(t){uni.showLoading({mask:!0,title:"下载中..."}),uni.downloadFile({url:t,success:function(t){if(200===t.statusCode){var e=document.createElement("a");e.download="",e.href=t.tempFilePath,document.body.appendChild(e),e.click(),e.remove(),uni.hideLoading()}else uni.hideLoading()}})},saveFile:function(t){uni.showLoading(),uni.downloadFile({url:t,success:function(t){var e=t.tempFilePath;uni.saveFile({tempFilePath:e,success:function(t){uni.openDocument({filePath:t.savedFilePath,fileType:"pdf",showMenu:!0,success:function(t){uni.hideLoading()},fail:function(t){uni.hideLoading()}})},fail:function(t){console.log(t),uni.hideLoading(),console.log("保存失败")}})}})},getDownVideo:function(t){uni.showLoading({mask:!0,title:"下载中..."});var e=(new Date).valueOf(),i=uni.downloadFile({url:t,filePath:wx.env.USER_DATA_PATH+"/"+e+".mp4",success:function(t){var i=t.filePath;uni.saveVideoToPhotosAlbum({filePath:i,success:function(t){uni.showToast({title:"下载成功",icon:"success"});var i=wx.getFileSystemManager();i.unlink({filePath:wx.env.USER_DATA_PATH+"/"+e+".mp4",success:function(t){console.log("unlink-getFileSystemManager"),console.log(t)}})},fail:function(t){uni.showToast({title:"保存失败",icon:"none"})},complete:function(t){console.log("saveVideoToPhotosAlbum-complete"),console.log(t),uni.hideLoading()}})},fail:function(t){uni.showToast({title:"下载失败,请稍后再试",icon:"none"})},complete:function(t){console.log("downloadFiledownloadFiledownloadFiledownloadFiledownloadFile"),console.log(t)}});i.onProgressUpdate(this.onProgress)},onProgress:function(t){uni.showLoading({mask:!0,title:t.progress?"下载中"+t.progress+"%":"下载中..."})},saveToPhotosAlbum:function(t){var e=uni.downloadFile({url:t,success:function(t){var e=t.statusCode,i=t.tempFilePath;200===e?uni.saveImageToPhotosAlbum({filePath:i,success:function(t){console.log("data-----------------\x3e",t),uni.showToast({title:"下载成功,文件已保存到"+t.path,icon:"success"})},complete:function(t){}}):uni.showToast({title:"下载失败",icon:"none"})},complete:function(){}});e.onProgressUpdate((function(t){showLoading.setTitle("  正在下载"+t.progress+"%  ")}))},saveFileToApp:function(t){var e=plus.downloader.createDownload(t,{},(function(t,e){uni.showToast({title:"下载完成",mask:!1,duration:1e3}),console.log("status: "+e),200==e?(console.log("下载成功："+t.filename),console.log("plus.io.convertLocalFileSystemURL(d.filename): "+plus.io.convertLocalFileSystemURL(t.filename)),plus.runtime.openFile(plus.io.convertLocalFileSystemURL(t.filename),{},(function(t){console.log("打开成功")}),(function(t){console.log("打开失败")}))):uni.showToast({title:"下载失败-02",mask:!1,duration:1500})}));try{e.start();var i=0,n=plus.nativeUI.showWaiting("正在下载");e.addEventListener("statechanged",(function(t,e){switch(t.state){case 1:n.setTitle("正在下载");break;case 2:n.setTitle("已连接到服务器");break;case 3:i=parseInt(parseFloat(t.downloadedSize)/parseFloat(t.totalSize)*100),n.setTitle("  正在下载"+i+"%  ");break;case 4:plus.nativeUI.closeWaiting();break}}))}catch(o){plus.nativeUI.closeWaiting(),uni.showToast({title:"更新失败-03",mask:!1,duration:1500})}}},watch:{fileType:{deep:!0,handler:function(t){this.fileUrl&&this.toDownload({type:this.fileType,src:this.fileUrl})}}}};e.default=n},ce80:function(t,e,i){"use strict";i.r(e);var n=i("0c76"),o=i("57c6");for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);i("05f6");var s=i("f0c5"),r=Object(s["a"])(o["default"],n["b"],n["c"],!1,null,"903a256a",null,!1,n["a"],void 0);e["default"]=r.exports},d3fe:function(t,e,i){"use strict";(function(t){i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("a9e3"),i("99af");var n={props:{audio:{type:String,default:""},title:{default:"语音合成"},sliderColor:{type:String,default:"#1F64FF"},activeColor:{type:String,default:"#1F64FF"},backgroundColor:{type:String,default:"#EFEFEF"}},data:function(){return{innerAudioContext:null,isPlay:!1,timer:null,currentTime:0,duration:0,progress:0,intervalID:null,startImg:t.baseImg+"/xcx/e47bc10b-bb4c-43a1-8d5a-1bda0b917003.jpg",endImg:t.baseImg+"/xcx/90a9be00-0c42-440e-9ea9-267e52d7808b.jpg"}},watch:{audio:{handler:function(t){this.creatAudio()},deep:!0,immediate:!0}},destroyed:function(){this.innerAudioContext.destroy()},methods:{creatAudio:function(){var t=this;this.innerAudioContext=uni.createInnerAudioContext(this),this.innerAudioContext.src=encodeURI(this.audio),this.innerAudioContext.sessionCategory="soloAmbient",this.innerAudioContext.autoplay=!0,this.innerAudioContext.volume=0,this.innerAudioContext.startTime=0,this.innerAudioContext.play(),this.innerAudioContext.onTimeUpdate((function(){})),this.innerAudioContext.onCanplay((function(){t.intervalID=setInterval((function(){0!==t.innerAudioContext.duration&&(clearInterval(t.intervalID),t.duration=t.innerAudioContext.duration)}),100)})),setTimeout((function(){t.innerAudioContext.pause()}),100)},audioPlay:function(){this.dateFormart(this.currentTime)===this.dateFormart(this.duration)&&(this.progress=100),this.innerAudioContext.src=encodeURI(this.audio),this.innerAudioContext.startTime=0,this.innerAudioContext.volume=1,this.innerAudioContext.sessionCategory="soloAmbient",this.innerAudioContext.seek(100===Number(this.progress)?0:this.currentTime?this.currentTime:0),this.innerAudioContext.startTime=100===Number(this.progress)?0:this.currentTime?this.currentTime:0,this.innerAudioContext.play(),this.onCanplay(),this.isPlay=!0},onCanplay:function(){var t=this;this.innerAudioContext.onCanplay((function(){t.currentTime=t.innerAudioContext.currentTime})),this.innerAudioContext.onTimeUpdate((function(){t.currentTime=t.innerAudioContext.currentTime,t.progress=(t.innerAudioContext.currentTime/t.innerAudioContext.duration*100).toFixed(2)})),this.innerAudioContext.onEnded((function(){t.isPlay&&(t.isPlay=!1)}))},audioPause:function(){this.innerAudioContext.pause(),this.isPlay=!this.isPlay},handleProgress:function(t){this.innerAudioContext.pause()},handleChange:function(t){this.progress=t.detail.value,this.currentTime=this.duration*(t.detail.value/100),this.audioPlay()},dateFormart:function(t){t=Number(t).toFixed(0);var e=Math.floor(t/3600),i=Math.floor((t-3600*e)/60),n=t-3600*e-60*i;return e=e<10?"0".concat(e):e,i=i<10?"0".concat(i):i,n=n<10?"0".concat(Math.floor(n)):Math.floor(n),"".concat(i,":").concat(n)}}};e.default=n}).call(this,i("c8ba"))},dd71:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"uni-page-body[data-v-65d664d1]{background:#f6f8fb}body.?%PAGE?%[data-v-65d664d1]{background:#f6f8fb}.containar[data-v-65d664d1]{width:100%;padding:%?30?%}.voice_list[data-v-65d664d1]{width:100%;background:#fff;padding:%?20?%;border-radius:%?12?%;margin-bottom:%?15?%}.voice_list .list_li[data-v-65d664d1]{width:100%;border-radius:%?12?%;background:#fff}.li_del[data-v-65d664d1]{width:100%;text-align:right}.li_del .del_text[data-v-65d664d1]{color:#1f64ff;font-size:%?24?%;line-height:%?40?%;padding-top:%?20?%}.on_order[data-v-65d664d1]{display:flex;align-items:center;justify-content:center;height:50vh;width:100vw}.on_order_list[data-v-65d664d1]{display:flex;align-items:center;justify-content:center;font-size:%?28?%;height:%?100?%;line-height:%?100?%;width:100vw;color:#c0c4cc}.li_edit[data-v-65d664d1]{display:flex;align-items:center;justify-content:flex-end;margin-top:%?10?%}.li_edit .edit_r[data-v-65d664d1]{padding:%?10?% %?30?%;border-radius:%?8?%;background:#1f64ff;color:#fff;text-align:center;font-size:%?28?%;font-style:normal;font-weight:600}",""]),t.exports=e},dee7:function(t,e,i){"use strict";i.r(e);var n=i("106c"),o=i("545e");for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);var s=i("f0c5"),r=Object(s["a"])(o["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);e["default"]=r.exports},e63a:function(t,e,i){var n=i("dd71");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f065").default;o("4415dd14",n,!0,{sourceMap:!1,shadowMode:!1})},f0d3:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{staticClass:"containar"},[t.videoList.length>0?i("v-uni-scroll-view",{staticClass:"list_ul",attrs:{"scroll-y":"true"}},t._l(t.videoList,(function(e,n){return i("v-uni-view",{key:n,staticClass:"voice_list"},[i("v-uni-view",{staticClass:"list_li"},[i("Audio",{attrs:{audio:t.getImgUrl(e.live_sound_url),title:e.live_script}})],1),i("v-uni-view",{staticClass:"li_edit"},[i("v-uni-view",{staticClass:"edit_r",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.downVoice(e.live_sound_url)}}},[t._v("下载")])],1)],1)})),1):i("v-uni-view",{staticClass:"on_order"},[i("v-uni-text",{staticClass:"on_order_list"},[t._v("暂无合成语音")])],1),1==t.loadingType?i("v-uni-view",{staticClass:"on_order_list"},[t._v("没有更多内容了!")]):t._e()],1),i("Ssdownload",{ref:"ssdownload",attrs:{fileUrl:t.fileUrl,fileType:t.fileType}})],1)},o=[]}}]);