(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["childCont-figure-play"],{"00b2":function(e,n,t){var o=t("24fb");n=o(!1),n.push([e.i,".container[data-v-35f548f4]{width:100%;height:100vh;padding:%?20?%;display:flex;justify-content:center;align-items:center;flex-direction:column}.container .sp_img[data-v-35f548f4]{width:100%}.container .li_text[data-v-35f548f4]{font-size:%?24?%;color:#f74439;padding:%?30?%}.btn_cont[data-v-35f548f4]{width:100%;height:%?150?%;border-top:%?1?% solid #e7e7e7;display:flex;align-items:center;justify-content:center;position:fixed;bottom:0;background:#fff}.btn_cont .cont_text[data-v-35f548f4]{width:80%;border-radius:%?10?%;background:linear-gradient(301deg,#1f64ff,#5589ff);color:#fff;font-size:%?30?%;font-style:normal;font-weight:500;line-height:%?50?%;display:flex;align-items:center;justify-content:center;padding:%?20?% 0}",""]),e.exports=n},"08a1":function(e,n,t){"use strict";t.d(n,"b",(function(){return o})),t.d(n,"c",(function(){return i})),t.d(n,"a",(function(){}));var o=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-uni-view",{staticClass:"container"},[t("v-uni-video",{staticClass:"sp_img",attrs:{src:e.video_url,objectFit:"cover",type:"video/mp4"}}),t("v-uni-view",{staticClass:"btn_cont",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.toDownload.apply(void 0,arguments)}}},[t("v-uni-view",{staticClass:"cont_text"},[e._v("导出视频")])],1),t("Ssdownload",{ref:"ssdownload",attrs:{fileUrl:e.video_url,fileType:e.fileType}})],1)},i=[]},"106c":function(e,n,t){"use strict";t.d(n,"b",(function(){return o})),t.d(n,"c",(function(){return i})),t.d(n,"a",(function(){}));var o=function(){var e=this.$createElement,n=this._self._c||e;return n("v-uni-view")},i=[]},1529:function(e,n,t){"use strict";t.r(n);var o=t("08a1"),i=t("adfc");for(var a in i)["default"].indexOf(a)<0&&function(e){t.d(n,e,(function(){return i[e]}))}(a);t("50b8");var l=t("f0c5"),s=Object(l["a"])(i["default"],o["b"],o["c"],!1,null,"35f548f4",null,!1,o["a"],void 0);n["default"]=s.exports},"50b8":function(e,n,t){"use strict";var o=t("8b45"),i=t.n(o);i.a},"545e":function(e,n,t){"use strict";t.r(n);var o=t("a558"),i=t.n(o);for(var a in o)["default"].indexOf(a)<0&&function(e){t.d(n,e,(function(){return o[e]}))}(a);n["default"]=i.a},"8b45":function(e,n,t){var o=t("00b2");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var i=t("4f065").default;i("728797c1",o,!0,{sourceMap:!1,shadowMode:!1})},a2dc:function(e,n,t){"use strict";(function(e){t("7a82");var o=t("4ea4").default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=o(t("dee7")),a={data:function(){return{video_url:"",fileUrl:"",fileType:""}},components:{Ssdownload:i.default},onLoad:function(n){n.video_url&&(this.video_url=e.baseImg+"/"+n.video_url,this.$forceUpdate())},onShow:function(){},methods:{toDownload:function(){this.fileUrl=this.video_url,this.fileType="3"}}};n.default=a}).call(this,t("c8ba"))},a558:function(e,n,t){"use strict";t("7a82"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,t("e25e"),t("acd8");var o={name:"ss-download",props:{fileUrl:{type:String,default:""},fileType:{type:String,default:""}},data:function(){return{}},methods:{toDownload:function(e){this.downloadH5(e.src)},downloadH5:function(e){uni.showLoading({mask:!0,title:"下载中..."}),uni.downloadFile({url:e,success:function(e){if(200===e.statusCode){var n=document.createElement("a");n.download="",n.href=e.tempFilePath,document.body.appendChild(n),n.click(),n.remove(),uni.hideLoading()}else uni.hideLoading()}})},saveFile:function(e){uni.showLoading(),uni.downloadFile({url:e,success:function(e){var n=e.tempFilePath;uni.saveFile({tempFilePath:n,success:function(e){uni.openDocument({filePath:e.savedFilePath,fileType:"pdf",showMenu:!0,success:function(e){uni.hideLoading()},fail:function(e){uni.hideLoading()}})},fail:function(e){console.log(e),uni.hideLoading(),console.log("保存失败")}})}})},getDownVideo:function(e){uni.showLoading({mask:!0,title:"下载中..."});var n=(new Date).valueOf(),t=uni.downloadFile({url:e,filePath:wx.env.USER_DATA_PATH+"/"+n+".mp4",success:function(e){var t=e.filePath;uni.saveVideoToPhotosAlbum({filePath:t,success:function(e){uni.showToast({title:"下载成功",icon:"success"});var t=wx.getFileSystemManager();t.unlink({filePath:wx.env.USER_DATA_PATH+"/"+n+".mp4",success:function(e){console.log("unlink-getFileSystemManager"),console.log(e)}})},fail:function(e){uni.showToast({title:"保存失败",icon:"none"})},complete:function(e){console.log("saveVideoToPhotosAlbum-complete"),console.log(e),uni.hideLoading()}})},fail:function(e){uni.showToast({title:"下载失败,请稍后再试",icon:"none"})},complete:function(e){console.log("downloadFiledownloadFiledownloadFiledownloadFiledownloadFile"),console.log(e)}});t.onProgressUpdate(this.onProgress)},onProgress:function(e){uni.showLoading({mask:!0,title:e.progress?"下载中"+e.progress+"%":"下载中..."})},saveToPhotosAlbum:function(e){var n=uni.downloadFile({url:e,success:function(e){var n=e.statusCode,t=e.tempFilePath;200===n?uni.saveImageToPhotosAlbum({filePath:t,success:function(e){console.log("data-----------------\x3e",e),uni.showToast({title:"下载成功,文件已保存到"+e.path,icon:"success"})},complete:function(e){}}):uni.showToast({title:"下载失败",icon:"none"})},complete:function(){}});n.onProgressUpdate((function(e){showLoading.setTitle("  正在下载"+e.progress+"%  ")}))},saveFileToApp:function(e){var n=plus.downloader.createDownload(e,{},(function(e,n){uni.showToast({title:"下载完成",mask:!1,duration:1e3}),console.log("status: "+n),200==n?(console.log("下载成功："+e.filename),console.log("plus.io.convertLocalFileSystemURL(d.filename): "+plus.io.convertLocalFileSystemURL(e.filename)),plus.runtime.openFile(plus.io.convertLocalFileSystemURL(e.filename),{},(function(e){console.log("打开成功")}),(function(e){console.log("打开失败")}))):uni.showToast({title:"下载失败-02",mask:!1,duration:1500})}));try{n.start();var t=0,o=plus.nativeUI.showWaiting("正在下载");n.addEventListener("statechanged",(function(e,n){switch(e.state){case 1:o.setTitle("正在下载");break;case 2:o.setTitle("已连接到服务器");break;case 3:t=parseInt(parseFloat(e.downloadedSize)/parseFloat(e.totalSize)*100),o.setTitle("  正在下载"+t+"%  ");break;case 4:plus.nativeUI.closeWaiting();break}}))}catch(i){plus.nativeUI.closeWaiting(),uni.showToast({title:"更新失败-03",mask:!1,duration:1500})}}},watch:{fileType:{deep:!0,handler:function(e){this.fileUrl&&this.toDownload({type:this.fileType,src:this.fileUrl})}}}};n.default=o},adfc:function(e,n,t){"use strict";t.r(n);var o=t("a2dc"),i=t.n(o);for(var a in o)["default"].indexOf(a)<0&&function(e){t.d(n,e,(function(){return o[e]}))}(a);n["default"]=i.a},dee7:function(e,n,t){"use strict";t.r(n);var o=t("106c"),i=t("545e");for(var a in i)["default"].indexOf(a)<0&&function(e){t.d(n,e,(function(){return i[e]}))}(a);var l=t("f0c5"),s=Object(l["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],void 0);n["default"]=s.exports}}]);